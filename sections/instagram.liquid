<section class="instagram">
  {%- if settings.social_instagram_link -%}
    <h2><a href="{{ settings.social_instagram_link }}">{{ section.settings.follow_us_heading }}</a></h2>
  {%- else -%}
    <h2>{{ section.settings.follow_us_heading }}</h2>
  {%- endif -%}

  <ul class="instagram-feed">
    {% for block in section.blocks limit: section.blocks.size %}
    <li class="item">
      {% if block.settings.image %}
      <div class="item-image">
        {% if block.settings.link %}<a href="{{ block.settings.link }}">{% endif %}
          <img src="{{ block.settings.image | img_url: '800x800', crop: 'center' }}" alt="{{ block.settings.image.alt | escape }}">
        {% if block.settings.link %}</a>{% endif %}
      </div>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
</section>

{% schema %}
{
  "name": "Instagram",
  "max_blocks" : 5,
  "class" : "section-instagram",
  "settings": [
    {
      "type": "text",
      "id": "follow_us_heading",
      "label": "Heading",
      "default": "Follow us on Instagram"
    }],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
